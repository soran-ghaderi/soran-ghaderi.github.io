<!-- begin post -->
{% assign author = site.authors[post.author] %}
<div class="col-lg-4 col-md-6 col-sm-6 mb-30px">
    <a href="{{ post.url }}" class="featured-project-link">
        <div class="listfeaturedtag h-100 featured-project-card">
            <div class="featured-image-container">
                {% if post.image %}
                {% if site.lazyimages == "enabled" %}
                <img class="img-fluid lazyimg featured-image"
                     src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII="
                     data-src="{% if post.image contains '://' %}{{ post.image }}{% else %}{{ post.image }}{% endif %}"
                     alt="{{ post.title }}">
                {% else %}
                <img class="img-fluid featured-image"
                     src="{% if post.image contains '://' %}{{ post.image }}{% else %}{{ post.image }}{% endif %}"
                     alt="{{ post.title }}">
                {% endif %}
                {% endif %}
            </div>
            <div class="featured-content">
                <div class="card-body">
                    <h4 class="card-title">
                        {{ post.title }}
                        {% if post.rating %}
                        <div class="mb-2 mt-2 font-weight-normal">
                            {% include star_rating_postbox.html %}
                        </div>
                        {% endif %}
                    </h4>
                    <p class="card-excerpt">{{ post.excerpt | strip_html | truncatewords:15 }}</p>
                </div>
                <div class="card-footer">
                    <span class="post-date">{{ post.date | date_to_string }}</span>
                </div>
            </div>
        </div>
    </a>
</div>
<!-- end post -->

<style>
    .featured-project-link {
        text-decoration: none;
        color: inherit;
        display: block;
        height: 100%;
        width: 100%;
        transition: all 0.2s ease;
    }
    
    .featured-project-link:hover,
    .featured-project-link:focus {
        text-decoration: none;
        color: inherit;
    }
    
    .featured-project-card {
        background: var(--bg-color, #ffffff);
        border: 1px solid var(--card-border, rgba(0, 0, 0, 0.06));
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        overflow: hidden;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        display: flex;
        flex-direction: column;
        /* Absolute consistent dimensions - Desktop */
        width: 100% !important;
        min-width: 100% !important;
        max-width: 100% !important;
        height: 420px !important;
        min-height: 420px !important;
        max-height: 420px !important;
    }
    
    .featured-project-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        border-color: var(--accent-color, #ef4444);
    }
    
    .dark .featured-project-card {
        background: var(--intro-bg, #1a1a1a);
        border: 1px solid var(--card-border, rgba(255, 255, 255, 0.1));
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    
    .dark .featured-project-card:hover {
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        border-color: var(--accent-color, #ef4444);
    }
    
    .featured-image-container {
        position: relative;
        width: 100%;
        height: 200px; /* Fixed height for image area */
        overflow: hidden;
        flex-shrink: 0;
        flex-grow: 0;
    }
    
    .featured-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }
    
    .featured-project-card:hover .featured-image {
        transform: scale(1.05);
    }
    
    .featured-content {
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        height: 220px; /* Fixed height for content area */
        min-height: 220px;
        max-height: 220px;
    }
    
    .featured-project-card .card-body {
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        min-height: 0;
    }
    
    .featured-project-card .card-title {
        color: var(--heading-color, #1a202c);
        font-family: Roboto, sans-serif;
        font-weight: 500;
        /* Use core website typography - H4 size */
        font-size: 2rem;
        line-height: 1.2;
        margin-bottom: 1rem;
        /* Ensure consistent space for titles */
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        height: 4.8rem; /* Fixed height for 2 lines at 2rem font-size */
    }
    
    .dark .featured-project-card .card-title {
        color: var(--heading-color, #f7fafc);
    }
    
    .featured-project-card .card-excerpt {
        color: var(--text-color, #2d3748);
        font-family: Roboto, sans-serif;
        /* Use core website typography - paragraph size */
        font-size: 1.6rem;
        line-height: 1.5;
        margin-bottom: 0;
        flex-grow: 1;
        /* Ensure consistent space for excerpts */
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        height: 7.2rem; /* Fixed height for 3 lines at 1.6rem font-size */
    }
    
    .dark .featured-project-card .card-excerpt {
        color: var(--text-color, #e2e8f0);
    }
    
    .featured-project-card .card-footer {
        background: transparent !important;
        border: none;
        padding: 0 1.5rem 1.5rem 1.5rem;
        margin-top: auto;
        flex-shrink: 0;
        height: 3rem; /* Fixed height for footer */
        display: flex;
        align-items: center;
    }
    
    .featured-project-card .post-date {
        color: var(--text-muted, #718096);
        font-family: Roboto, sans-serif;
        /* Use core website typography */
        font-size: 1rem;
        font-weight: 400;
    }
    
    .dark .featured-project-card .post-date {
        color: var(--text-muted, #a0aec0);
    }
    
    /* Large tablets and small desktops */
    @media (max-width: 1199.98px) and (min-width: 992px) {
        .featured-project-card {
            height: 400px !important;
            min-height: 400px !important;
            max-height: 400px !important;
        }
        
        .featured-image-container {
            height: 180px;
        }
        
        .featured-content {
            height: 220px;
            min-height: 220px;
            max-height: 220px;
        }
    }
    
    /* Medium tablets */
    @media (max-width: 991.98px) and (min-width: 768px) {
        .featured-project-card {
            height: 420px !important;
            min-height: 420px !important;
            max-height: 420px !important;
        }
        
        .featured-image-container {
            height: 190px;
        }
        
        .featured-content {
            height: 230px;
            min-height: 230px;
            max-height: 230px;
        }
        
        .featured-project-card .card-title {
            font-size: 1.8rem;
            height: 4.3rem;
        }
        
        .featured-project-card .card-excerpt {
            font-size: 1.4rem;
            height: 6.3rem;
        }
    }
    
    /* Small tablets and large phones */
    @media (max-width: 767.98px) and (min-width: 576px) {
        .featured-project-card {
            height: 380px !important;
            min-height: 380px !important;
            max-height: 380px !important;
        }
        
        .featured-image-container {
            height: 170px;
        }
        
        .featured-content {
            height: 210px;
            min-height: 210px;
            max-height: 210px;
        }
        
        .featured-project-card .card-title {
            font-size: 1.6rem;
            height: 3.8rem;
        }
        
        .featured-project-card .card-excerpt {
            font-size: 1.3rem;
            height: 5.85rem;
        }
        
        .featured-project-card:hover {
            transform: translateY(-2px);
        }
    }
    
    /* Mobile phones */
    @media (max-width: 575.98px) {
        .featured-project-card {
            height: 360px !important;
            min-height: 360px !important;
            max-height: 360px !important;
        }
        
        .featured-image-container {
            height: 150px;
        }
        
        .featured-content {
            height: 210px;
            min-height: 210px;
            max-height: 210px;
        }
        
        .featured-project-card .card-body {
            padding: 1.25rem;
        }
        
        .featured-project-card .card-footer {
            padding: 0 1.25rem 1.25rem 1.25rem;
        }
        
        .featured-project-card .card-title {
            font-size: 1.4rem;
            height: 3.4rem;
        }
        
        .featured-project-card .card-excerpt {
            font-size: 1.2rem;
            height: 5.4rem;
        }
        
        .featured-project-card .post-date {
            font-size: 0.9rem;
        }
        
        .featured-project-card:hover {
            transform: translateY(-1px);
        }
    }
</style>