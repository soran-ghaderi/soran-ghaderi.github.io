<!-- begin post -->
{% assign author = site.authors[post.author] %}

<div class="col-lg-4 col-md-6 col-sm-6 mb-30px">
    <a href="{{ post.url }}" class="project-card-link">
        <div class="card h-100 project-card">
            <div class="maxthumb">
                {% if post.image %}
                {% if site.lazyimages == "enabled" %}
                <img class="img-fluid lazyimg"
                     src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII="
                     data-src="{% if post.image contains '://' %}{{ post.image }}{% else %}{{ post.image }}{% endif %}"
                     alt="{{ post.title }}">
                {% else %}
                <img class="img-fluid"
                     src="{% if post.image contains '://' %}{{ post.image }}{% else %}{{ post.image }}{% endif %}"
                     alt="{{ post.title }}">
                {% endif %}
                {% endif %}
            </div>
            <div class="card-body d-flex flex-column flex-grow-1">
                <h4 class="card-title">
                    {{ post.title }}
                    {% if post.rating %}
                        <div class="mb-2 mt-2 font-weight-normal">
                            {% include star_rating_postbox.html %}
                        </div>
                    {% endif %}
                </h4>
                <div class="card-text flex-grow-1">
                    <p class="card-excerpt">{{ post.excerpt | strip_html | truncatewords:15 }}</p>
                </div>
            </div>
            <div class="card-footer mt-auto">
                <div class="wrapfooter">
                    <span class="post-date">{{ post.date | date_to_string }}</span>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </a>
</div>
<!-- end post -->

<style>
    .project-card-link {
        text-decoration: none;
        color: inherit;
        display: block;
        height: 100%;
        width: 100%;
        transition: all 0.2s ease;
    }
    
    .project-card-link:hover,
    .project-card-link:focus {
        text-decoration: none;
        color: inherit;
    }
    
    .project-card {
        background: var(--bg-color, #ffffff);
        border: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        overflow: hidden;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        display: flex;
        flex-direction: column;
        /* Absolute consistent dimensions - Desktop */
        width: 100% !important;
        min-width: 100% !important;
        max-width: 100% !important;
        height: 460px !important;
        min-height: 460px !important;
        max-height: 460px !important;
    }
    
    .project-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }
    
    .dark .project-card {
        background: var(--bg-color, #1a202c);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    
    .dark .project-card:hover {
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }

    .maxthumb {
        position: relative;
        width: 100%;
        height: 220px; /* Fixed height for image area */
        overflow: hidden;
        border-radius: 12px 12px 0 0;
        flex-shrink: 0;
        flex-grow: 0;
    }
    
    .maxthumb img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
        border-radius: 12px 12px 0 0;
    }
    
    .project-card:hover .maxthumb img {
        transform: scale(1.05);
    }
    
    .card-body {
        padding: 1.5rem;
        background: transparent;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        min-height: 0;
    }
    
    .project-card .card-title {
        color: var(--heading-color, #1a202c);
        font-family: Roboto, sans-serif;
        font-weight: 500;
        /* Use core website typography - H4 size */
        font-size: 2rem;
        line-height: 1.2;
        margin-bottom: 1rem;
        /* Ensure consistent space for titles */
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        height: 4.8rem; /* Fixed height for 2 lines at 2rem font-size */
        flex-shrink: 0;
    }
    
    .dark .project-card .card-title {
        color: var(--heading-color, #f7fafc);
    }
    
    .card-text {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    
    .card-excerpt {
        color: var(--text-color, #2d3748);
        font-family: Roboto, sans-serif;
        /* Use core website typography - paragraph size */
        font-size: 1.6rem;
        line-height: 1.5;
        margin-bottom: 0;
        flex-grow: 1;
        /* Ensure consistent space for excerpts */
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        height: 7.2rem; /* Fixed height for 3 lines at 1.6rem font-size */
    }
    
    .dark .card-excerpt {
        color: var(--text-color, #e2e8f0);
    }
    
    .card-footer {
        padding: 0 1.5rem 1.5rem 1.5rem;
        background: transparent !important;
        border: none;
        margin-top: auto;
        flex-shrink: 0;
        height: 3.5rem; /* Fixed height for footer */
        display: flex;
        align-items: center;
    }
    
    .post-date {
        color: var(--text-muted, #718096);
        font-family: Roboto, sans-serif;
        /* Use core website typography */
        font-size: 1rem;
        font-weight: 400;
    }
    
    .dark .post-date {
        color: var(--text-muted, #a0aec0);
    }
    
    /* Large tablets and small desktops */
    @media (max-width: 1199.98px) and (min-width: 992px) {
        .project-card {
            height: 440px !important;
            min-height: 440px !important;
            max-height: 440px !important;
        }
        
        .maxthumb {
            height: 200px;
        }
    }
    
    /* Medium tablets */
    @media (max-width: 991.98px) and (min-width: 768px) {
        .project-card {
            height: 460px !important;
            min-height: 460px !important;
            max-height: 460px !important;
        }
        
        .maxthumb {
            height: 210px;
        }
        
        .project-card .card-title {
            font-size: 1.8rem;
            height: 4.3rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.2;
            flex-shrink: 0;
        }
        
        .card-excerpt {
            font-size: 1.4rem;
            height: 6.3rem;
        }
    }
    
    /* Small tablets and large phones */
    @media (max-width: 767.98px) and (min-width: 576px) {
        .project-card {
            height: 420px !important;
            min-height: 420px !important;
            max-height: 420px !important;
        }
        
        .maxthumb {
            height: 190px;
        }
        
        .project-card .card-title {
            font-size: 1.6rem;
            height: 3.8rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.2;
            flex-shrink: 0;
        }
        
        .card-excerpt {
            font-size: 1.3rem;
            height: 5.85rem;
        }
        
        .project-card:hover {
            transform: translateY(-2px);
        }
    }
    
    /* Mobile phones */
    @media (max-width: 575.98px) {
        .project-card {
            height: 400px !important;
            min-height: 400px !important;
            max-height: 400px !important;
        }
        
        .maxthumb {
            height: 170px;
        }
        
        .card-body {
            padding: 1.25rem;
        }
        
        .card-footer {
            padding: 0 1.25rem 1.25rem 1.25rem;
        }
        
        .project-card .card-title {
            font-size: 1.4rem;
            height: 3.4rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.2;
            flex-shrink: 0;
        }
        
        .card-excerpt {
            font-size: 1.2rem;
            height: 5.4rem;
        }
        
        .post-date {
            font-size: 0.9rem;
        }
        
        .project-card:hover {
            transform: translateY(-1px);
        }
    }
</style>